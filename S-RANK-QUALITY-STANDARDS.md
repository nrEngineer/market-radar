# 🏅 SaaS開発プロ企業 品質基準書

> **Market Radar — S-Rank Quality Standards**  
> **バージョン**: 1.0  
> **制定日**: 2026-02-18  
> **適用範囲**: 全10事業部

---

## 1. 品質基準の目的

「SaaS・自社サービス開発のプロ」として、**業界トップレベルの品質を定義・維持・改善する**ための全社品質基準。全ての開発・運用・ビジネス活動がこの基準に準拠することを求める。

---

## 2. Sランク品質マトリックス

### 2.1 技術品質基準

| 基準項目 | C級 (現状) | B級 | A級 | S級 (目標) |
|---------|-----------|-----|-----|-----------|
| テストカバレッジ | 0% | 30% | 60% | **≥ 90%** |
| ESLintエラー | 36件 | <10件 | 0件 | **0件 + カスタムルール** |
| TypeScript strict | 部分的 | 全ファイル | strict mode | **strict + noUncheckedIndexedAccess** |
| `any`型使用 | 36箇所 | <10箇所 | 0箇所 | **0箇所 (eslint-rule禁止)** |
| ビルドエラー | 0件 ✅ | 0件 | 0件 | **0件 + 型推論警告0** |
| セキュリティ脆弱性 | 10件 | <5件 | 0件 | **0件 + SAST自動スキャン** |
| 技術的債務 | 62時間 | <30時間 | <10時間 | **<5時間 + 自動検出** |

### 2.2 運用品質基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| 稼働率 | 未計測 | 95% | 99% | **≥ 99.9% (8.76h/年以下)** |
| MTTD (検知時間) | 無限 | <1時間 | <15分 | **<5分 (自動検知)** |
| MTTR (復旧時間) | 無限 | <4時間 | <1時間 | **<15分 (自動復旧)** |
| API P95レイテンシ | 未計測 | <2s | <1s | **<500ms** |
| エラー率 | 未計測 | <5% | <1% | **<0.1%** |
| ログ構造化 | console.log | 部分的 | 全ログJSON | **全ログJSON + 相関ID** |
| 監視カバレッジ | 0% | 50% | 80% | **100% (全エンドポイント)** |

### 2.3 開発効率基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| CI/CDパイプライン | 部分的 | 全ステージ | 自動デプロイ | **完全自動 + カナリア** |
| デプロイ時間 | 未計測 | <15分 | <10分 | **<5分** |
| PR→本番リードタイム | 未計測 | <72時間 | <48時間 | **<24時間** |
| PR レビュー時間 | 未実施 | <24時間 | <8時間 | **<4時間 (自動レビュー含む)** |
| ロールバック時間 | 未定義 | <30分 | <15分 | **<5分 (ワンクリック)** |
| 機能フラグ | なし | 部分的 | 主要機能 | **全新機能にフラグ** |

### 2.4 セキュリティ品質基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| OWASP Top 10 | 未対応 | 50%対応 | 80%対応 | **100%対応 + 定期監査** |
| シークレット管理 | ハードコード | 環境変数 | Vault | **Vault + 自動ローテーション** |
| 認証・認可 | なし | Basic | JWT | **JWT + RBAC + MFA** |
| データ暗号化 | なし | TLS only | at transit | **at rest + at transit** |
| 脆弱性スキャン | 手動 | 月次 | 週次 | **PR毎 (SAST/DAST)** |
| ペネトレーション | なし | 年1回 | 半期1回 | **四半期 + 自動** |
| CSP | なし | 基本 | 厳密 | **最厳密 + レポート** |

### 2.5 データ品質基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| データソース数 | 2実/1モック | 4実 | 6実 | **8+実データソース** |
| 収集頻度 | 手動 | 日次 | 12時間毎 | **リアルタイム / 1時間毎** |
| データ欠損率 | 100% (DB未保存) | <10% | <5% | **<1%** |
| 分析精度 | 未計測 | 60% | 80% | **≥ 90%** |
| データ鮮度 | 手動更新 | <48時間 | <24時間 | **<6時間** |
| ETLパイプライン | なし | 基本変換 | 自動変換 | **自動変換 + 品質チェック** |
| バリデーション | なし | 基本型チェック | スキーマ | **スキーマ + ビジネスルール** |

### 2.6 UI/UX品質基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| Lighthouse Performance | 未計測 | ≥70 | ≥85 | **≥95** |
| Lighthouse Accessibility | 未計測 | ≥70 | ≥85 | **≥95 (AAA準拠)** |
| Lighthouse Best Practices | 未計測 | ≥70 | ≥85 | **≥95** |
| Lighthouse SEO | 未計測 | ≥70 | ≥85 | **≥95** |
| Core Web Vitals LCP | 未計測 | <4s | <3s | **<2.5s** |
| Core Web Vitals FID | 未計測 | <300ms | <200ms | **<100ms** |
| Core Web Vitals CLS | 未計測 | <0.25 | <0.15 | **<0.1** |
| レスポンシブ | 未検証 | 3BP | 5BP | **全デバイス完全対応** |
| i18n | 日本語のみ | 2言語 | 3言語 | **5言語+** |
| デザインシステム | 部分的 | 文書化 | Storybook | **Storybook + テスト** |

### 2.7 事業品質基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| KPI計測 | なし | 手動 | 半自動 | **全自動リアルタイム** |
| 競合監視 | 静的データ | 週次更新 | 日次更新 | **リアルタイム自動監視** |
| 収益化 | なし | 計画のみ | 基本実装 | **Stripe + 複数モデル** |
| ユーザーNPS | 未計測 | 計測開始 | NPS 50+ | **NPS 70+** |
| CAC/LTV比 | 未計測 | 計測開始 | >2:1 | **>3:1** |
| チャーン率 | 未計測 | <10% | <5% | **<3%** |

### 2.8 組織品質基準

| 基準項目 | C級 | B級 | A級 | S級 (目標) |
|---------|-----|-----|-----|-----------|
| プロセス文書化 | 部分的 | 主要プロセス | 全プロセス | **全プロセス + 自動更新** |
| ナレッジ共有 | なし | Wiki | 構造化Wiki | **自動ナレッジベース** |
| オンボーディング | なし | README | ガイド | **自動化 + メンター** |
| 自動化率 | <20% | 40% | 60% | **≥80%** |
| 障害振り返り | なし | アドホック | 毎回 | **毎回 + 改善追跡** |
| コード品質レビュー | なし | 手動 | 自動+手動 | **AI自動 + 手動** |

---

## 3. 品質ゲート (Quality Gates)

### 3.1 PRマージ条件 (必須)

```yaml
# .github/workflows/quality-gate.yml
quality-gates:
  # Gate 1: ビルド
  - name: TypeScript Compile
    check: npx tsc --noEmit
    required: true
  
  # Gate 2: Lint
  - name: ESLint
    check: npx eslint . --max-warnings 0
    required: true
  
  # Gate 3: テスト
  - name: Unit Tests
    check: npx vitest run
    required: true
    coverage-threshold: 80%
  
  # Gate 4: セキュリティ
  - name: Security Audit
    check: npm audit --audit-level=moderate
    required: true
  
  # Gate 5: ビルド
  - name: Next.js Build
    check: npm run build
    required: true
```

### 3.2 デプロイ条件 (本番)

| ステージ | 条件 | 自動/手動 |
|---------|------|----------|
| ビルド成功 | エラー0件 | 自動 |
| テスト通過 | カバレッジ80%+ | 自動 |
| セキュリティスキャン | 脆弱性0件 | 自動 |
| Lighthouse CI | 全項目≥85 | 自動 |
| E2Eテスト | 全パス | 自動 |
| コードレビュー | 1名以上承認 | 手動 |
| ステージング確認 | スモークテスト | 手動/自動 |

### 3.3 リリース判定基準

| レベル | 判定基準 | 承認者 |
|--------|---------|--------|
| Hotfix | セキュリティ脆弱性修正 | テックリード |
| Patch | バグ修正 | テックリード |
| Minor | 新機能 | テックリード + PO |
| Major | 破壊的変更 | テックリード + PO + CTO |

---

## 4. Sランク認定基準

### 部署Sランク認定条件

各部署が以下を**全て満たした場合**にSランクと認定する:

1. **数値基準**: スコアカード全項目がS級基準を達成
2. **プロセス基準**: 品質ゲート全通過・PDCA回転実績3サイクル以上
3. **継続基準**: 4週間連続でS級基準維持
4. **文書基準**: 全プロセス・ベストプラクティスが文書化済み
5. **自動化基準**: 手動作業が20%以下

### 全社Sランク認定条件

- 全10部署がSランク認定
- 部署間連携が全て正常稼働
- 技術的債務が5時間以下
- セキュリティインシデント 0件/月
- ユーザー満足度 NPS 70+

---

## 5. 品質基準の維持・改善

### 5.1 定期レビュー

| 頻度 | 内容 | 参加者 |
|------|------|--------|
| 週次 | スコアカード更新・課題洗い出し | 各部署リーダー |
| 月次 | 品質基準のレビュー・更新 | 全体 |
| 四半期 | 品質基準の大幅改定検討 | CTO + 全リーダー |

### 5.2 品質劣化防止ルール

1. **ラチェット原則**: 一度達成した品質レベルを下回ることを禁止
2. **テストファースト**: 新機能は必ずテストコードから書く
3. **セキュリティファースト**: セキュリティ脆弱性は最優先で修正
4. **計測ファースト**: 計測できないものは改善できない

---

## 付録A: 品質スコアカード計算式

```
部署スコア = Σ (カテゴリスコア × カテゴリ重み)

カテゴリ重み:
- 技術品質:    25%
- 運用品質:    20%
- セキュリティ: 20%
- データ品質:   15%
- UI/UX品質:   10%
- 事業品質:    10%

Sランク基準: 部署スコア ≥ 90/100
全社Sランク: 全部署スコア ≥ 90/100 かつ 平均 ≥ 92/100
```
